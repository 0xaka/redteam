## mariadb 

version: '3.1'

services:

  mariadb:
    image: mariadb:10.2
    container_name: mariadb
    restart: always
    networks:
      - oxaka-dock-network
    ports:
      - 3306:3306
    environment:
      - MYSQL_ROOT_PASSWORD=redteam
      #- MYSQL_RANDOM_ROOT_PASSWORD=yes
      - MARIADB_USER=gogs
      - MARIADB_PASSWORD=gogs
      - MARIADB_DATABASE=gogs
    volumes:
      - 'mariadb_data:/var/lib/mysql'

  phpmyadmin:
    image: phpmyadmin/phpmyadmin
    container_name: phpmyadmin
    environment:
     #- PMA_ARBITRARY=1
     - PMA_HOST=mariadb
    depends_on:
      - mariadb
    restart: always
    networks:
      - oxaka-dock-network
    ports:
      - 81:80
    volumes:
      - 'phpmyadmin_data:/sessions'
      - 'phpmyadmin_data/config.user.inc.php:/etc/phpmyadmin/config.user.inc.php'
   
  gogs:
     image: gogs/gogs
     container_name: gogs
     depends_on:
       - mariadb
     restart: always
     ports:
       - 3000:3000
       - "2222:22"
     networks:
       - oxaka-dock-network
     volumes:
       - 'gogs_data:/data'
       
   
volumes:
  mariadb_data:
    driver: local
  phpmyadmin_data:
    driver: local
  gogs_data:
    driver: local
  wp_data:
    driver: local
  ps_data:
    driver: local
  mw_data:
    driver: local
    
networks:
  oxaka-dock-network:
    driver: bridge
    
## One liner to stop / remove all of Docker containers:
# docker stop $(docker ps -a -q)
# docker rm $(docker ps -a -q)
# docker-compose rm -v # force remove mariadb password 
## wikimedia

## wordpress

## jenkins

## wordpress

## kali linux
